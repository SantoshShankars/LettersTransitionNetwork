LettersTransitionNetwork
========================
Author: Abhishek Rao

Please See the .docx file for more details

Abstract:
Takes in text files and creates Stochastic Transition Matrix and Network and sample random walk through the network


CONTENTS
Introduction	1
Explanation	2
Algorithm	2
Observations	3
Results	4
Simple Text abc	4
Simple Text 2	5
Common English greeting	6
Quote by Picasso	7
First paragraph from "One Hundred years of Solitude" by Marquez	9
A GPL License agreement	11
Entire English book of Huckleberry Finn by Twain	12
English book of Adventures of Sherlock Holmes by A.C. Doyle	13
Entire Portugese book of Contos by José Maria Eça de Queirós	14
The program's own Source code	15


INTRODUCTION
Here we have made statistical analysis of different text sources. Given a string of characters, a stochastic matrix (probability transition matrix) is created based on the frequency of transitions. A Markov chain network is built and a sample output is generated which shows similar characteristics to the input source. The sample output is generated by random walk through the network. 

EXPLANATION
We expect the sample output to look somewhat similar to the input text. 
We have used 10 different types of text sources. Starting from a very simple short text to full length books. We hope the simple inputs will help us in understanding the different results while the bigger inputs will give some kind of statistical signature of the text. For full length books we have used two English books and one Portuguese book. We expect the Stochastic matrix of the English books to  be similar. It’s interesting to see how the Portuguese stochastic matrix differs from English. Note that for creating the network we have used a threshold of 0.1. If Pij is less than 0.1 then an edge is not created. Networks of more longer input are not shown as there was some problem with networkx graph creation.
The sample output when the source code is expected to look similar to a program. It’s interesting to see if the Stochastic matrix of license agreement looks similar to the English books. 

ALGORITHM
Input: All the text files in the directory “.\Data”.
Ouptut: 
1.	Stochastic Matrix saved as grayscale png in the directory “.\outfig”
2.	GML network  file in the directory “.\outnet”
3.	Sample output saved as <inputfilename>out.txt in the directory “.\outtxt”
  The program does the following for each input file
  •	Read the characters as ‘chars’ string. Create another string called ‘alphabets’ which is a string of unique sorted characters.
  •	Create a transition count matrixfor the ‘alphabets’ in ‘chars’. In the matrix aij indicates the number of times a character j comes after character I in the string ‘chars’.
  •	Divide each Row by it’s sum. Assign this to P
  •	Define a function weighted_choice((x,p(X=x)) which returns a sample output given a list of elements x and their corresponding probabilities p(X=x)
  •	A function randomwalk() as follows
    o	Repeat ‘iteration’ times
      	For the current character ‘c’
      	Select the row corresponding to ‘c’ in P
      	Get a new character ‘nc’ by calling the function ‘weighted_choice(alphabets,P[row of ‘c’])
      	Append ‘c’ to the string ‘sampleoutput’
      	‘c’ = ‘nc’
    o	Return ‘sampleoutput’




OBSERVATIONS
Looking at the results few observations can be made
1.	For the simple text input abc the output is a repeated pattern of the input. The transition matrix contains only 1s in each column (hence black and white) and the network is a circular path from ‘a’ to ‘b’ to ‘c’
2.	For the simple text “cat mat bat sat hat” the output is a repeated random pattern of the set {cat,mat,bat,sat,hat} as long as the first character of the word is unique the output is a repeated random word pattern. Notice the network has only one node ‘  ‘ (space) which has multiple outedge which determines which word to generate. Once a choice is made here  then the remaining steps are deterministic. The transition matrix has grays only for that character ‘  ‘. Rest is black and white.
3.	As the input becomes more complex the network’s number of edges and nodes increases. There are some self loops. 
4.	Looking at the network of solitude.txt, we see that there are some nodes with no output edges. This is not expected as every row there should be at least one element greater than 0.1 (threshold)
5.	The alphabets Stochastic matrix of the two English books does indeed look same
6.	Portuguese and English Stochastic matrix are different but some similarities do exist. Both languages the ‘qu’ transition is very high. 
7.	The license agreement looks similar to the English novels but not as similar as the two novels themselves.
8.	The sample outputs somewhat look like the input. The sample output of the code looks like a code.
